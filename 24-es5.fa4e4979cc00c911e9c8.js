!function(){function n(e,t){return(n=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(e,t)}function e(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var i,r=o(n);if(e){var l=o(this).constructor;i=Reflect.construct(r,arguments,l)}else i=r.apply(this,arguments);return t(this,i)}}function t(n,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):e}function o(n){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function i(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function r(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function l(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{bcMI:function(t,o,r){"use strict";r.r(o),r.d(o,"MenuLekprogModule",(function(){return I}));var c=r("An66"),s=r("kZht"),a=r("kKMY"),g=r("C4W8"),u=r("zNk5"),p=r("s7kB"),h=r("phvz"),d=r("cJtj"),f=r("dlUx"),m=r("2OYx");function b(n,e){if(1&n&&(s.ac(),s.Qb(0,"svg",6),s.Lb(1,"path",7),s.Pb()),2&n){var t=s.bc().$implicit;s.Ab("viewBox","0 0 "+t.icon.icon[0]+" "+t.icon.icon[1]),s.zb(1),s.Ab("d",t.icon.icon[4])}}function v(n,e){if(1&n&&s.Lb(0,"wdg-menu-lekprog-menu",8),2&n){var t=s.bc().$implicit;s.hc("links",t.children)}}function k(n,e){if(1&n){var t=s.Rb();s.Qb(0,"li",2),s.Qb(1,"a",3),s.Xb("click",(function(n){s.sc(t);var o=e.$implicit;return s.bc().open(n,o)})),s.Qb(2,"span",2),s.Ac(3,b,2,2,"svg",4),s.Bc(4),s.Pb(),s.Pb(),s.Ac(5,v,1,1,"wdg-menu-lekprog-menu",5),s.Pb()}if(2&n){var o=e.$implicit,i=s.bc();s.Cb("dropdown",o.children),s.hc("ngStyle",i.getBgcStyles(i.background)),s.zb(1),s.zc("border-color",i.panoListColor(o)),s.hc("ngStyle",i.checkActive(o.id)?i.getBgcStyles(i.menu.list_active_item_bg):""),s.zb(1),s.zc("color",i.panoListColor(o)),s.hc("ngStyle",i.fontStyle(i.menu.panos_font)),s.zb(1),s.hc("ngIf",o.icon&&o.icon.icon&&"fad"!=o.icon.prefix),s.zb(1),s.Dc(" ",i.i18n.t(o.name)," "),s.zb(1),s.hc("ngIf",o.children)}}var y,P=((y=function(){function n(e,t,o,r,l,c,s){i(this,n),this.viewerService=e,this.menuService=t,this.panoService=o,this.hotspotService=r,this.fontsService=l,this.statsService=c,this.i18n=s}return l(n,[{key:"panoName",value:function(n){var e=this.panoService.getPanoById(n);return e?this.i18n.t(e.name):null}},{key:"checkActive",value:function(n){return!!n&&this.menuService.activeMenuElem==n}},{key:"panoListColor",value:function(n){return"pano"==n.type&&this.checkActive(n.id)?this.active_color.color:this.menu.panos_font&&this.menu.panos_font.color?this.menu.panos_font.color:this.text_color.color}},{key:"goToPano",value:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.viewerService.goToPano(n,e)}},{key:"open",value:function(n,e){switch(e.type){case"pano":this.goToPano(e.pano,{theta:e.theta,phi:e.phi,fov:e.fov});var t=this.statsService.getWidget(this.menu.widget);this.statsService.send({plugin:t.name,type:t.key,details:e.pano.id});break;case"link":var o=this.linkHref(e.href).match(/1s(.*?)!2/);o&&-1!=["G1","G2"].indexOf(this.panoService.keyStarts)?this.viewerService.viewer.setPano(o[1]):window.open(this.linkHref(e.href),"_blank");break;case"hotspot":var i=this.getHotspotById(e.hotspot);this.viewerService.goToPano(i.pano,i.position),this.hotspotService.open(i.id)}e.children&&this.openDropdown(n),this.menuService.activeMenuElem=e.id}},{key:"fontStyle",value:function(n){return this.fontsService.fontStyle(n)}},{key:"getBgcStyles",value:function(n){return n?"gradient"==n.type?"radial"!=n.align?{background:"-webkit-linear-gradient("+n.align+", "+n.color+" 0%,"+n.color2+" 100%)"}:{background:"radial-gradient(at center center, "+n.color+" 0%,"+n.color2+" 100%)"}:{background:n.color}:null}},{key:"linkHref",value:function(n){return"string"==typeof n?n:this.i18n.t(n)}},{key:"getHotspotById",value:function(n){return this.hotspotService.getHotspotById(n)}},{key:"openDropdown",value:function(n){var e=this,t=this.getParent(n.target,"LI");if(t.classList.contains("open"))t.classList.remove("open"),this.slideUp(t.getElementsByTagName("ul")[0]);else{var o=this.getParent(t,"UL");Array.from(o.children).map((function(n){n.classList.contains("dropdown")&&n.classList.contains("open")&&(n.classList.remove("open"),e.slideUp(n.getElementsByTagName("ul")[0]))})),t.classList.add("open"),this.slideDown(t.getElementsByTagName("ul")[0])}}},{key:"getParent",value:function(n,e){for(var t=n.parentElement;t.tagName!=e;)t=t.parentElement;return t}},{key:"slideDown",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;clearInterval(this.slideInterval),n.style.removeProperty("height"),n.style.position="absolute",n.style.visibility="hidden",n.style.display="block",n.style.overflow="hidden";var o=n.offsetHeight;n.style.removeProperty("position"),n.style.removeProperty("visibility"),n.style.height=0,n.style.transition="height "+t+"ms ease",setTimeout((function(){n.style.height=o+"px",e.slideInterval=setTimeout((function(){n.style.removeProperty("height"),n.style.removeProperty("overflow")}),t)}))}},{key:"slideUp",value:function(n){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400;clearInterval(this.slideInterval),n.style.removeProperty("height"),n.style.height=n.offsetHeight+"px",n.style.overflow="hidden",n.style.transition="height "+t+"ms ease",setTimeout((function(){n.style.height=0,e.slideInterval=setTimeout((function(){n.style.removeProperty("height"),n.style.removeProperty("overflow"),n.style.display="none"}),t)}))}},{key:"menu",get:function(){return this.menuService.menu}},{key:"background",get:function(){return this.menu.common_color?this.panoService.commonColor.background:this.menu.background}},{key:"active_color",get:function(){return this.menu.common_color?this.panoService.commonColor.active_color:this.menu.active_color}},{key:"text_color",get:function(){return this.menu.common_color?this.panoService.commonColor.text_color:this.menu.text_color}}]),n}()).\u0275fac=function(n){return new(n||y)(s.Kb(g.a),s.Kb(u.a),s.Kb(p.a),s.Kb(h.a),s.Kb(d.a),s.Kb(f.a),s.Kb(m.a))},y.\u0275cmp=s.Eb({type:y,selectors:[["wdg-menu-lekprog-menu"]],inputs:{links:"links"},decls:2,vars:1,consts:[[1,"links"],[3,"dropdown","ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"ngStyle","click"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],[3,"links",4,"ngIf"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg"],["fill","currentColor"],[3,"links"]],template:function(n,e){1&n&&(s.Qb(0,"ul",0),s.Ac(1,k,6,12,"li",1),s.Pb()),2&n&&(s.zb(1),s.hc("ngForOf",e.links))},directives:[c.j,c.l,c.k,y],styles:['ul[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;display:none;padding:0;list-style:none;margin:1px 0 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;margin-bottom:1px;white-space:nowrap;line-height:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:7px 20px;cursor:pointer;color:inherit}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:border-bottom-color .4s ease-out;border-width:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border-bottom:1px transparent;border-style:solid;font-family:Roboto;font-size:14px;line-height:20px;display:flex;align-items:center}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;margin-right:6px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{border-bottom-color:inherit}ul[_ngcontent-%COMP%]   li.dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding-right:40px}ul[_ngcontent-%COMP%]   li.dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{position:absolute;top:12px;right:20px;display:block;box-sizing:border-box;width:15px;height:15px;content:" ";transition:transform .5s;transform:rotate(-45deg);border-style:solid;border-color:inherit;border-width:0 3px 3px 0}ul[_ngcontent-%COMP%]   li.dropdown.open[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{transform:rotate(45deg)!important}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{top:0;left:100%!important;right:auto!important;margin:0 0 0 1px}']}),y),_=["menuList"],C=["menuDropdown"];function O(n,e){if(1&n&&(s.ac(),s.Qb(0,"svg",12),s.Lb(1,"path",13),s.Pb()),2&n){var t=s.bc().$implicit;s.Ab("viewBox","0 0 "+t.icon.icon[0]+" "+t.icon.icon[1]),s.zb(1),s.Ab("d",t.icon.icon[4])}}function M(n,e){if(1&n&&s.Lb(0,"wdg-menu-lekprog-menu",14),2&n){var t=s.bc().$implicit;s.hc("links",t.children)}}function w(n,e){if(1&n){var t=s.Rb();s.Qb(0,"li",8),s.Qb(1,"a",9),s.Xb("click",(function(n){s.sc(t);var o=e.$implicit;return s.bc().open(n,o)})),s.Qb(2,"span",10),s.Ac(3,O,2,2,"svg",11),s.Bc(4),s.Pb(),s.Pb(),s.Ac(5,M,1,1,"wdg-menu-lekprog-menu",7),s.Pb()}if(2&n){var o=e.$implicit,i=s.bc();s.Cb("dropdown",o.children),s.hc("ngStyle",i.getBgcStyles(i.background)),s.zb(1),s.zc("border-color",i.panoListColor(o)),s.hc("ngStyle",i.checkActive(o.id)?i.getBgcStyles(i.menu.list_active_item_bg):""),s.Ab("href",o.href,s.vc)("target","link"==o.type?"_blank":""),s.zb(1),s.zc("color",i.panoListColor(o)),s.hc("ngStyle",i.fontStyle(i.menu.panos_font)),s.zb(1),s.hc("ngIf",o.icon&&o.icon.icon&&"fad"!=o.icon.prefix),s.zb(1),s.Dc(" ",i.i18n.t(o.name)," "),s.zb(1),s.hc("ngIf",o.children)}}function x(n,e){if(1&n&&s.Lb(0,"wdg-menu-lekprog-menu",14),2&n){var t=s.bc();s.hc("links",t.hiddenPanos)}}var S,z,L=((S=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(r,t);var o=e(r);function r(){var n;return i(this,r),(n=o.apply(this,arguments)).default_options={widget:"MenuLekprogComponent",panos:[],panos_font:{family:"",size:"",italic:!1,bold:!1,underline:!1,color:"",align:"",line_height:""},recursive:!0,icons_enable:!0,hotspots_enable:!0,hide_on_start:!0,background:{type:"native",color:"rgb(255,255,255)"},active_color:{type:"native",color:"rgb(103,58,183)"},text_color:{color:"rgb(92,107,117)"},list_active_item_bg:{type:"native",color:""}},n.visiblePanos=[],n.hiddenPanos=[],n}return l(r,[{key:"onResize",value:function(n){n.target.innerWidth!=this.resizeWidth&&(this.resizeWidth=n.target.innerWidth,this.changePanos())}},{key:"ngDoCheck",value:function(){this.lengthVisiblePanos!=this.visiblePanos.length&&this.changeVisiblePanos(),this.differ.diff(this.menu.panos)&&this.changePanos()}},{key:"hideNotContain",value:function(){var n=this;setTimeout((function(){n.menuList.nativeElement.getBoundingClientRect().top!=n.menuDropdown.nativeElement.getBoundingClientRect().top&&n.hiddenPanos.unshift(n.visiblePanos.splice(-1,1)[0])}))}},{key:"changeVisiblePanos",value:function(){this.lengthVisiblePanos=this.visiblePanos.length,this.hideNotContain()}},{key:"changePanos",value:function(){this.visiblePanos=this.menu.panos.slice(),this.hiddenPanos=[],this.lengthVisiblePanos=this.visiblePanos.length,this.hideNotContain()}}]),r}(a.a)).\u0275fac=function(n){return B(n||S)},S.\u0275cmp=s.Eb({type:S,selectors:[["wdg-menu-lekprog"]],viewQuery:function(n,e){var t;1&n&&(s.Ec(_,!0,s.l),s.Ec(C,!0,s.l)),2&n&&(s.nc(t=s.Yb())&&(e.menuList=t.first),s.nc(t=s.Yb())&&(e.menuDropdown=t.first))},hostBindings:function(n,e){1&n&&s.Xb("resize",(function(n){return e.onResize(n)}),!1,s.rc)},features:[s.wb],decls:10,vars:8,consts:[["id","menu-lekprog",1,"widget","menu",3,"ngClass"],[1,"menu-lekprog-links"],["menuList",""],["class","menu-lekprog-link",3,"dropdown","ngStyle",4,"ngFor","ngForOf"],[1,"menu-lekprog-link","dropdown",3,"ngStyle"],["menuDropdown",""],[3,"click"],[3,"links",4,"ngIf"],[1,"menu-lekprog-link",3,"ngStyle"],[3,"ngStyle","click"],[3,"ngStyle"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg"],["fill","currentColor"],[3,"links"]],template:function(n,e){1&n&&(s.Qb(0,"div",0),s.Qb(1,"ul",1,2),s.Ac(3,w,6,14,"li",3),s.Qb(4,"li",4,5),s.Qb(6,"a",6),s.Xb("click",(function(n){return e.open(n,{type:"text",children:e.hiddenPanos})})),s.Qb(7,"span"),s.Bc(8,"..."),s.Pb(),s.Pb(),s.Ac(9,x,1,1,"wdg-menu-lekprog-menu",7),s.Pb(),s.Pb(),s.Pb()),2&n&&(s.hc("ngClass",e.menuClass),s.zb(1),s.zc("color",e.text_color?e.text_color.color:""),s.zb(2),s.hc("ngForOf",e.visiblePanos),s.zb(1),s.zc("visibility",e.hiddenPanos.length?"visible":"hidden"),s.hc("ngStyle",e.getBgcStyles(e.background)),s.zb(5),s.hc("ngIf",e.hiddenPanos))},directives:[c.i,c.j,c.l,c.k,P],styles:['#menu-lekprog[_ngcontent-%COMP%]{position:absolute;top:20px;left:20px;z-index:2}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link[_ngcontent-%COMP%]{display:inline-block;float:left;position:relative;white-space:nowrap;line-height:0}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:7px 20px;cursor:pointer;transition:border-bottom-color .4s ease-out;color:inherit;border-width:0}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:border-bottom-color .4s ease-out;border-width:0;border-bottom:1px transparent;border-style:solid;font-family:Roboto;font-size:14px;line-height:20px;display:flex;align-items:center}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;margin-right:6px}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{border-bottom-color:inherit}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link.dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding-right:40px}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link.dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{position:absolute;top:12px;right:20px;display:block;box-sizing:border-box;width:15px;height:15px;content:" ";transition:transform .5s;transform:rotate(-45deg);border-style:solid;border-color:inherit;border-width:0 3px 3px 0}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link.dropdown.open[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:after{transform:rotate(45deg)!important}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link[_ngcontent-%COMP%]:nth-last-child(-n+3)     ul{left:auto;right:0}#menu-lekprog[_ngcontent-%COMP%]   ul.menu-lekprog-links[_ngcontent-%COMP%]   li.menu-lekprog-link[_ngcontent-%COMP%]:nth-last-child(-n+3)     ul ul{top:0;left:auto!important;right:100%!important;margin:0 1px 0 0}']}),S),B=s.Sb(L),I=((z=function(){function n(e){i(this,n),this.componentFactoryResolver=e}return l(n,[{key:"resolveComponent",value:function(){return this.componentFactoryResolver.resolveComponentFactory(L)}}]),n}()).\u0275mod=s.Ib({type:z}),z.\u0275inj=s.Hb({factory:function(n){return new(n||z)(s.Ub(s.j))},imports:[[c.c]]}),z)}}])}();