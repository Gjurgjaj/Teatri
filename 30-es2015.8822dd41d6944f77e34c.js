(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{PnCI:function(t,e,o){"use strict";o.r(e),o.d(e,"OtherTitleModule",(function(){return p}));var i=o("An66"),r=o("kZht"),n=o("uGor"),l=o("C4W8"),a=o("cJtj"),s=o("s7kB"),c=o("ENSU"),d=o("2OYx");function h(t,e){if(1&t&&(r.Qb(0,"a",3),r.Bc(1),r.Pb()),2&t){const t=r.bc(2);r.hc("href",t.i18n.t(t.title.href),r.vc),r.zb(1),r.Cc(t.i18n.t(t.title.name))}}const b=function(t,e){return[t,e]};function g(t,e){if(1&t&&(r.Qb(0,"div",1),r.Ac(1,h,2,2,"a",2),r.Bc(2),r.Pb()),2&t){const t=r.bc();r.zc("width",""!=t.widthObj.value?t.widthObj.value+"%":"auto")("padding-left",t.borderObj.value,"px")("padding-right",t.borderObj.value,"px")("margin",t.marginObj.value,"px")("max-width","calc(100% - "+(2*t.marginObj.value+2*t.borderObj.value)+"px)")("border-top-left-radius",t.borderRadiusObj.value.topLeft,"px")("border-top-right-radius",t.borderRadiusObj.value.topRight,"px")("border-bottom-left-radius",t.borderRadiusObj.value.bottomLeft,"px")("border-bottom-right-radius",t.borderRadiusObj.value.bottomRight,"px")("color",t.colorsObj.value.common_color?t.commonColor.text_color.color:t.colorsObj.value.text_color.color)("transform",t.editorMode?t.transform:t.transformStatic)("background",t.editorMode?t.bgcStyle(t.colorsObj.value.common_color?t.commonColor.background:t.colorsObj.value.background):t.backgroundStatic),r.hc("ngClass",r.lc(28,b,t.areaObj.value,t.shadowObj.value))("ngStyle",t.fontStyle),r.zb(1),r.hc("ngIf",t.title.href&&t.i18n.t(t.title.href)),r.zb(1),r.Dc(" ",t.title.href&&t.i18n.t(t.title.href)?"":t.i18n.t(t.title.name),"\n")}}let u=(()=>{class t{constructor(t,e,o,i,r,n){this.otherService=t,this.viewerService=e,this.fontsService=o,this.panoService=i,this.sanitizer=r,this.i18n=n,this.default_options={widget:"OtherTitleComponent",options:[{key:"show",label:"Show",type:"toggle",value:!0},{key:"list",label:"Pano list",type:"liste",recursive:!1,icons:!1,links:!1,uniq:!0,pano_url:!0,drone:!0,font:{family:"",size:"30",italic:!1,bold:!1,underline:!1,color:"",align:"",line_height:""},value:[]},{key:"width",label:"Width",type:"slider",clear:!0,help:"%",value:""},{key:"margin",label:"Margin",type:"slider",help:"px",value:10},{key:"border",label:"Border",type:"slider",help:"px",value:15},{key:"border-radius",label:"Border radius",type:"border-radius",help:"px",value:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0}},{key:"shadow",label:"Shadow",type:"shadow",value:""},{key:"area",label:"Area",areas:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"],type:"area",value:"top-left"},{key:"colors",type:"color-bundle",value:{common_color:!1,background:{type:"native",color:"rgb(255,255,255)"},text_color:{color:"rgb(92,107,117)"}}},{key:"tooltip_show",label:"Arrow text",type:"toggle",value:!0},{key:"tooltip_background",label:"Arrow text background",type:"color",value:{color:"rgba(0,0,0,0.5)"}},{key:"tooltip_color",label:"Arrow text color",type:"color",value:{color:"rgb(255,255,255)"}}]}}get transform(){return this.sanitizer.bypassSecurityTrustStyle(-1!=["top","bottom","left","right"].indexOf(this.areaObj.value)?-1!=["top","bottom"].indexOf(this.areaObj.value)?"translateX(calc(-50% - "+this.marginObj.value+"px))":"translateY(calc(-50% - "+this.marginObj.value+"px))":"initial")}get fontStyle(){return this.fontStyleWitoutColor(this.listObj.font)}get title(){return this.listObj.value.filter(t=>t.pano.id===this.viewerService.active.id).pop()}initData(){this.data||this.otherService.addWidget(this.default_options),this.widgetName=this.default_options.widget,this.widget=this.otherService.getWidget(this.widgetName),this.showObj=this.otherService.getWidgetOption(this.widgetName,"show"),this.listObj=this.otherService.getWidgetOption(this.widgetName,"list"),this.widthObj=this.otherService.getWidgetOption(this.widgetName,"width"),this.areaObj=this.otherService.getWidgetOption(this.widgetName,"area"),this.colorsObj=this.otherService.getWidgetOption(this.widgetName,"colors"),this.marginObj=this.otherService.getWidgetOption(this.widgetName,"margin"),this.borderObj=this.otherService.getWidgetOption(this.widgetName,"border"),this.borderRadiusObj=this.otherService.getWidgetOption(this.widgetName,"border-radius"),this.shadowObj=this.otherService.getWidgetOption(this.widgetName,"shadow"),this.listObj.font.family&&this.fontsService.loadFonts([this.listObj.font.family]),this.editorMode=this.viewerService.editor,this.commonColor=this.panoService.commonColor,this.transformStatic=this.transform,this.backgroundStatic=this.bgcStyle(this.colorsObj.value.common_color?this.commonColor.background:this.colorsObj.value.background),this.widgetInit=!0}fontStyleWitoutColor(t){let e=this.fontsService.fontStyle(t);return delete e.color,e}bgcStyle(t){return t?this.sanitizer.bypassSecurityTrustStyle("gradient"==t.type?"radial"!=t.align?"-webkit-linear-gradient("+t.align+", "+t.color+" 0%,"+t.color2+" 100%)":"radial-gradient(at center center, "+t.color+" 0%,"+t.color2+" 100%)":t.color):null}ngOnInit(){this.initData()}ngOnDestroy(){this.widgetInit=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(n.a),r.Kb(l.a),r.Kb(a.a),r.Kb(s.a),r.Kb(c.b),r.Kb(d.a))},t.\u0275cmp=r.Eb({type:t,selectors:[["wdg-other-title"]],inputs:{data:"data"},decls:1,vars:1,consts:[["class","title",3,"width","paddingLeft","paddingRight","margin","max-width","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","color","transform","background","ngClass","ngStyle",4,"ngIf"],[1,"title",3,"ngClass","ngStyle"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"]],template:function(t,e){1&t&&r.Ac(0,g,3,31,"div",0),2&t&&r.hc("ngIf",e.widgetInit&&e.title&&e.showObj.value)},directives:[i.k,i.i,i.l],styles:[".title[_ngcontent-%COMP%]{position:absolute;z-index:2;background-color:#fff;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.title.top[_ngcontent-%COMP%]{top:0}.title.bottom[_ngcontent-%COMP%], .title.top[_ngcontent-%COMP%]{left:50%;transform:translateX(-50%)}.title.bottom[_ngcontent-%COMP%]{bottom:0}.title.left[_ngcontent-%COMP%]{left:0}.title.left[_ngcontent-%COMP%], .title.right[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%)}.title.right[_ngcontent-%COMP%]{right:0}.title.top-left[_ngcontent-%COMP%]{top:0;left:0}.title.top-right[_ngcontent-%COMP%]{top:0;right:0}.title.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0}.title.bottom-right[_ngcontent-%COMP%]{right:0;bottom:0}@media screen and (max-width:600px){.title[_ngcontent-%COMP%]{width:100%!important}}  #overlay.mobile wdg-other-title .title{width:100%!important}"]}),t})(),p=(()=>{class t{constructor(t){this.componentFactoryResolver=t}resolveComponent(){return this.componentFactoryResolver.resolveComponentFactory(u)}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Ub(r.j))},imports:[[i.c]]}),t})()}}]);