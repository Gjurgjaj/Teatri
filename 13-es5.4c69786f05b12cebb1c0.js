!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return r(this,n)}}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"8lHc":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("IdLP"),o=n("Efrr"),r=n("KRZI"),l=n("gBlb");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,c=-1;return Object(r.a)(t)?c=Number(t)<1?1:Number(t):Object(l.a)(t)&&(n=t),Object(l.a)(n)||(n=o.a),new i.a((function(t){var i=Object(r.a)(e)?e:+e-n.now();return n.schedule(a,i,{index:0,period:c,subscriber:t})}))}function a(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}},JWZv:function(e,t,i){"use strict";i.r(t),i.d(t,"MenuLoppitteModule",(function(){return ee}));var r=i("An66"),l=i("hCLc"),a=i("3fn6"),u=i("kKMY"),f=i("kZht"),g=i("zNk5"),d=i("s7kB"),m=i("cJtj"),p=i("ruhk"),h=i("2OYx");function b(e,t){if(1&e&&(f.ac(),f.Zb(),f.Qb(0,"h1",5),f.Bc(1),f.Pb()),2&e){var n=f.bc();f.hc("ngStyle",n.fontStyle(n.menu.title_font)),f.zb(1),f.Dc(" ",n.menu.title[n.i18n.active]," ")}}var v,y=((v=function(){function e(t,n,i,o,r){c(this,e),this.menuService=t,this.panoService=n,this.fontsService=i,this.controlService=o,this.i18n=r}return s(e,[{key:"toggleSlide",value:function(){var e=document.getElementsByTagName("WDG-MENU-LOPPITTE")[0].children[0];e.classList.contains("on")?e.classList.remove("on"):(e.classList.add("on"),setTimeout((function(){document.addEventListener("click",(function t(n){(!e.contains(n.target)||e.querySelector(".gallery-wrapper").contains(n.target)&&n.target.parentNode.classList.contains("item-photo"))&&(e.classList.remove("on"),document.removeEventListener("click",t,!1))}),!1)}),100)),this.controlService.show=!1}},{key:"getBgcStyles",value:function(e){return{background:"gradient"==e.type?"radial"!=e.align?"-webkit-linear-gradient("+e.align+", "+e.color+" 0%,"+e.color2+" 100%)":"radial-gradient(at center center, "+e.color+" 0%,"+e.color2+" 100%)":e.color}}},{key:"fontStyle",value:function(e){return this.fontsService.fontStyle(e)}},{key:"menu",get:function(){return this.menuService.menu}},{key:"active_color",get:function(){return this.menu.common_color?this.panoService.commonColor.active_color:this.menu.active_color}},{key:"text_color",get:function(){return this.menu.common_color?this.panoService.commonColor.text_color:this.menu.text_color}}]),e}()).\u0275fac=function(e){return new(e||v)(f.Kb(g.a),f.Kb(d.a),f.Kb(m.a),f.Kb(p.a),f.Kb(h.a))},v.\u0275cmp=f.Eb({type:v,selectors:[["wdg-menu-loppitte-header"]],inputs:{links:"links"},decls:5,vars:2,consts:[[1,"menu-header",3,"ngStyle"],["mat-icon-button","","aria-label","toggle menu",3,"click"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["fill","currentColor","d","M442 114H6a6 6 0 0 1-6-6V84a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6zm0 160H6a6 6 0 0 1-6-6v-24a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6zm0 160H6a6 6 0 0 1-6-6v-24a6 6 0 0 1 6-6h436a6 6 0 0 1 6 6v24a6 6 0 0 1-6 6z"],["class","title",3,"ngStyle",4,"ngIf"],[1,"title",3,"ngStyle"]],template:function(e,t){1&e&&(f.Qb(0,"div",0),f.Qb(1,"button",1),f.Xb("click",(function(){return t.toggleSlide()})),f.ac(),f.Qb(2,"svg",2),f.Lb(3,"path",3),f.Pb(),f.Pb(),f.Ac(4,b,2,2,"h1",4),f.Pb()),2&e&&(f.hc("ngStyle",null!=t.active_color?t.getBgcStyles(t.active_color):null),f.zb(4),f.hc("ngIf",t.menu.title))},directives:[r.l,l.b,r.k],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:46px;order:-1}.menu-header[_ngcontent-%COMP%]{background-color:#263238;display:flex;width:calc(100% - 40px);height:100%;padding:0 20px;align-items:center;color:#fff}.menu-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px;display:none}.menu-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px}.menu-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media (max-width:1024px){.menu-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block}}  #overlay.mobile wdg-menu-loppitte-header .menu-header button,   #overlay.table wdg-menu-loppitte-header .menu-header button{display:block}"]}),v),w=i("KTx3"),x=i("8lHc"),O=i("cJ9h"),_=i("kuMc"),C=i("TLy2"),P=i("J+dc"),k=i("g6G6"),M=i("xVbo"),A=i("Ohay"),E=i("B8NW"),S=i("Tgqk"),z=["slider"];function L(e,t){if(1&e&&(f.Qb(0,"li",14),f.Lb(1,"img",15),f.Pb()),2&e){var n=t.$implicit,i=f.bc();f.zc("min-width",i.widthGallery,"px")("height",i.heightGallery,"px"),f.zb(1),f.hc("src",i.resizeImg(n.img,i.widthGallery+"x"),f.vc)}}var j,I,T=((j=function(){function e(t,n,i){c(this,e),this.menuService=t,this.viewerDataService=n,this.i18n=i,this.index=this.menuService.galeryActiveIndex,this.widthGallery=this.viewerDataService.viewer.nativeElement.offsetWidth,this.heightGallery=this.viewerDataService.viewer.nativeElement.offsetHeight,this.verticalObj=!1}return s(e,[{key:"play",value:function(){var e=this;this.isActive||(this.isActive=setInterval((function(){e.next()}),5e3))}},{key:"stop",value:function(){this.isActive&&(clearInterval(this.isActive),this.isActive=null)}},{key:"galleryClose",value:function(){this.menuService.galeryActiveIndex=null}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.scrollAnimateAvailable=!1;var t=Array.from(this.slider.nativeElement.getElementsByTagName("LI")).pop(),n=this.verticalObj?t.offsetTop+t.offsetHeight-this.slider.nativeElement.offsetHeight:t.offsetLeft+t.offsetWidth-this.slider.nativeElement.offsetWidth,i=this.verticalObj?this.slider.nativeElement.scrollTop+t.offsetHeight:this.slider.nativeElement.scrollLeft+t.offsetWidth;if(i=i<n?i:n,this.slider.nativeElement.scrollLeft>=this.slider.nativeElement.scrollWidth-this.slider.nativeElement.offsetWidth-20&&!e)i=0;else if(this.slider.nativeElement.scrollLeft>=this.slider.nativeElement.scrollWidth-this.slider.nativeElement.offsetWidth-20&&e)return this.scrollAnimateAvailable=!0,!1;this.animateScrollTo(i)}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.scrollAnimateAvailable=!1;var t=Array.from(this.slider.nativeElement.getElementsByTagName("LI")).pop(),n=this.verticalObj?this.slider.nativeElement.scrollTop+t.offsetHeight:this.slider.nativeElement.scrollLeft-t.offsetWidth;if(n<0&&!e)n=this.verticalObj?t.offsetTop+t.offsetHeight-this.slider.nativeElement.offsetHeight:t.offsetLeft+t.offsetWidth-this.slider.nativeElement.offsetWidth;else if(n<0&&e)return this.scrollAnimateAvailable=!0,!1;this.animateScrollTo(n)}},{key:"resizeImg",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e.split("?");return n&&(i[0]=i[0].replace(/.jpg|.jpeg|.png|.gif/gi,(function(e){return"_thumb"+e}))),i[1]="resize="+t+"&"+i[1],i.join("?")}},{key:"initSlider",value:function(){var e,t,n=this,i=function(i){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t=!1,n.slider.nativeElement.style.cursor="grab",r&&r>0||(n.verticalObj?null!=e&&n.slider.nativeElement.scrollTop>e:null!=e&&n.slider.nativeElement.scrollLeft>e))(o=n.verticalObj?Array.from(n.slider.nativeElement.getElementsByTagName("LI")).filter((function(e){return e.offsetTop+3*e.offsetHeight/2>n.slider.nativeElement.scrollTop+n.slider.nativeElement.offsetHeight})).shift():Array.from(n.slider.nativeElement.getElementsByTagName("LI")).filter((function(e){return e.offsetLeft+3*e.offsetWidth/2>n.slider.nativeElement.scrollLeft+n.slider.nativeElement.offsetWidth})).shift())?n.animateScrollTo(n.verticalObj?o.offsetTop+o.offsetHeight-n.slider.nativeElement.offsetHeight:o.offsetLeft+o.offsetWidth-n.slider.nativeElement.offsetWidth):n.scrollAnimateAvailable=!1,e=null;else if(r&&r<0||(n.verticalObj?null!=e&&n.slider.nativeElement.scrollTop<e:null!=e&&n.slider.nativeElement.scrollLeft<e)){var l;(l=n.verticalObj?Array.from(n.slider.nativeElement.getElementsByTagName("LI")).filter((function(e){return e.offsetTop+e.offsetHeight/2>n.slider.nativeElement.scrollTop})).shift():Array.from(n.slider.nativeElement.getElementsByTagName("LI")).filter((function(e){return e.offsetLeft+e.offsetWidth/2>n.slider.nativeElement.scrollLeft})).shift())?n.animateScrollTo(n.verticalObj?l.offsetTop:l.offsetLeft):n.scrollAnimateAvailable=!1,e=null}setTimeout((function(){n.dragging=!1}),10)},o=Object(w.a)(this.slider.nativeElement,"mousedown"),r=Object(w.a)(document,"mousemove"),l=Object(w.a)(document,"mouseup"),c=Object(w.a)(this.slider.nativeElement,"wheel",{passive:!0}),a=o.pipe(Object(O.a)((function(){return r.pipe(Object(_.a)(l))}))),s=o.pipe(Object(C.a)((function(){return l.pipe(Object(P.a)(1))})));this.mouseDown=o.subscribe((function(i){1==i.which&&(n.stop(),n.scrollAnimateAvailable=!1,n.slider.nativeElement.style.cursor="grabbing",e=n.verticalObj?n.slider.nativeElement.scrollTop:n.slider.nativeElement.scrollLeft,t=!0)})),this.mouseMove=a.subscribe((function(e){t&&(n.stop(),n.verticalObj?(n.slider.nativeElement.scrollTop-=e.movementY,0!=e.movementX&&(n.dragging=!0)):(n.slider.nativeElement.scrollLeft-=e.movementX,0!=e.movementX&&(n.dragging=!0)))})),this.mouseUp=s.subscribe(i),this.mouseScroll=c.subscribe((function(e){n.stop(),n.scrollAnimateAvailable=!1,n.verticalObj?e.deltaY>=-1&&e.deltaY<=1&&!n.scrollAnimateAvailable&&(n.scrollAnimateAvailable=!0,setTimeout((function(){i(0,e.deltaY)}),1e3)):e.deltaX>=-1&&e.deltaX<=1&&!n.scrollAnimateAvailable&&(n.scrollAnimateAvailable=!0,setTimeout((function(){i(0,e.deltaX)}),1e3))}));var u=Object(w.a)(document,"keydown"),f=Object(w.a)(document,"keyup"),g=u.pipe(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return e.lift.call(Object(k.a).apply(void 0,[e].concat(t)))}}(f),Object(M.a)((function(e){return 37===e.keyCode||39===e.keyCode})),Object(A.a)((function(e,t){return e.type==t.type})));this.keyPress=g.subscribe((function(e){return e.preventDefault(),"keydown"===e.type&&(n.stop(),37===e.keyCode?n.prev(!0):39===e.keyCode&&n.next(!0)),!1}))}},{key:"animateScrollTo",value:function(e){var t=this;this.scrollAnimateAvailable=!0,Object(x.a)(0,20).pipe(Object(E.a)((function(){return t.scrollAnimateAvailable}))).subscribe((function(n){t.verticalObj?t.slider.nativeElement.scrollTop>=e?t.slider.nativeElement.scrollTop-n>=e?t.slider.nativeElement.scrollTop-=n:(t.stopAnimation(),t.slider.nativeElement.scrollTop=e):t.slider.nativeElement.scrollTop<=e&&(t.slider.nativeElement.scrollTop+n<=e?t.slider.nativeElement.scrollTop+=n:(t.stopAnimation(),t.slider.nativeElement.scrollTop=e)):t.slider.nativeElement.scrollLeft>=e?t.slider.nativeElement.scrollLeft-n>=e?t.slider.nativeElement.scrollLeft-=n:(t.stopAnimation(),t.slider.nativeElement.scrollLeft=e):t.slider.nativeElement.scrollLeft<=e&&(t.slider.nativeElement.scrollLeft+n<=e?t.slider.nativeElement.scrollLeft+=n:(t.stopAnimation(),t.slider.nativeElement.scrollLeft=e))}))}},{key:"stopAnimation",value:function(){this.scrollAnimateAvailable=!1,this.menuService.galeryActiveIndex=Math.round(this.slider.nativeElement.scrollLeft/this.widthGallery)}},{key:"indexChange",value:function(e){this.slider.nativeElement.scrollLeft=this.widthGallery*e}},{key:"ngAfterViewInit",value:function(){this.initSlider()}},{key:"ngOnDestroy",value:function(){this.mouseDown&&this.mouseDown.unsubscribe(),this.mouseMove&&this.mouseMove.unsubscribe(),this.mouseUp&&this.mouseUp.unsubscribe(),this.mouseScroll&&this.mouseScroll.unsubscribe(),this.keyPress&&this.keyPress.unsubscribe(),this.stop()}},{key:"galleryArr",get:function(){return this.menuService.menu.gallery_arr}}]),e}()).\u0275fac=function(e){return new(e||j)(f.Kb(g.a),f.Kb(S.a),f.Kb(h.a))},j.\u0275cmp=f.Eb({type:j,selectors:[["wdg-menu-loppitte-gallery"]],viewQuery:function(e,t){var n;1&e&&f.Ec(z,!0,f.l),2&e&&f.nc(n=f.Yb())&&(t.slider=n.first)},inputs:{links:"links",index:"index"},decls:15,vars:11,consts:[[1,"loppitte-gallery"],["mat-icon-button","","aria-label","close gallery",1,"close",3,"click"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 320 512"],["fill","currentColor","d","M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"],[1,"gallery-wrapper"],[1,"gallery-slider"],["slider",""],["class","gallery-item",3,"minWidth","height",4,"ngFor","ngForOf"],[1,"control-slider"],["aria-label","play gallery",3,"click"],["aria-hidden","true","focusable","false","role","img","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 448 512"],["fill","currentColor","d","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"],["aria-label","stop gallery",3,"click"],["fill","currentColor","d","M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"],[1,"gallery-item"],["alt","","ondragstart","return false;",3,"src"]],template:function(e,t){1&e&&(f.Qb(0,"div",0),f.Qb(1,"button",1),f.Xb("click",(function(){return t.galleryClose()})),f.ac(),f.Qb(2,"svg",2),f.Lb(3,"path",3),f.Pb(),f.Pb(),f.Zb(),f.Qb(4,"div",4),f.Qb(5,"div",5,6),f.Ac(7,L,2,5,"li",7),f.Pb(),f.Qb(8,"div",8),f.Qb(9,"button",9),f.Xb("click",(function(){return t.play()})),f.ac(),f.Qb(10,"svg",10),f.Lb(11,"path",11),f.Pb(),f.Pb(),f.Zb(),f.Qb(12,"button",12),f.Xb("click",(function(){return t.stop()})),f.ac(),f.Qb(13,"svg",10),f.Lb(14,"path",13),f.Pb(),f.Pb(),f.Pb(),f.Pb(),f.Pb()),2&e&&(f.Cb("show",null!=t.index),f.zb(4),f.zc("width",t.widthGallery,"px")("height",t.heightGallery,"px"),f.zb(3),f.hc("ngForOf",t.galleryArr),f.zb(2),f.Cb("active",t.isActive),f.zb(3),f.Cb("active",!t.isActive))},directives:[l.b,r.j],styles:["button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px}.loppitte-gallery[_ngcontent-%COMP%]{background-color:#000;position:absolute;width:100%;height:100%;z-index:9;opacity:0;visibility:hidden;color:#fff}.loppitte-gallery.show[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loppitte-gallery[_ngcontent-%COMP%]   button.close[_ngcontent-%COMP%]{position:absolute;top:5px;right:5px;z-index:2}.loppitte-gallery[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]{position:relative}.loppitte-gallery[_ngcontent-%COMP%]   .gallery-slider[_ngcontent-%COMP%]{flex:1;display:flex;overflow-x:auto;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.loppitte-gallery[_ngcontent-%COMP%]   .gallery-slider[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.loppitte-gallery[_ngcontent-%COMP%]   .gallery-slider[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loppitte-gallery[_ngcontent-%COMP%]   .gallery-slider[_ngcontent-%COMP%]   .gallery-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:auto;max-width:100%;max-height:100%;-webkit-user-drag:none;-khtml-user-drag:none;-moz-user-drag:none;-o-user-drag:none;user-drag:none}.loppitte-gallery[_ngcontent-%COMP%]   .item-gallery[_ngcontent-%COMP%]{display:-ms-flex;display:flex;align-items:center;justify-content:center}.control-slider[_ngcontent-%COMP%]{border-radius:3px;position:absolute;z-index:1;left:50%;bottom:30px;transform:translateX(calc(-50%));z-index:5;display:-ms-flex;display:flex;flex-direction:row}.control-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#34495e;padding:0;width:44px;height:36px;border-radius:0;color:#fff;outline:0;cursor:pointer;opacity:.9;border:none;box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.3);position:relative;display:flex;align-items:center;justify-content:center}.control-slider[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#2c3e50;z-index:-1}.control-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{-webkit-border-top-left-radius:3px;-webkit-border-bottom-left-radius:3px;-moz-border-radius-topleft:3px;-moz-border-radius-bottomleft:3px;border-top-left-radius:3px;border-bottom-left-radius:3px}.control-slider[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{-webkit-border-top-right-radius:3px;-webkit-border-bottom-right-radius:3px;-moz-border-radius-topright:3px;-moz-border-radius-bottomright:3px;border-top-right-radius:3px;border-bottom-right-radius:3px}"]}),j),Q=i("dlUx"),B=((I=function(){function e(t,n,i,o,r){c(this,e),this.viewerDataService=t,this.menuService=n,this.controlService=i,this.statsService=o,this._componentFactoryResolver=r,this.posChanged=new f.n}return s(e,[{key:"closeGallery",value:function(){this.menuService.galeryActiveIndex=null}},{key:"indexChange",value:function(e){var t=this;if(null!=e){var n=this.statsService.getWidget(this.menuService.menu.widget);this.statsService.send({plugin:n.name,type:n.key,details:e})}this.menuService.galeryActiveIndex=e,this.controlService.show&&"ControlLoppitteComponent"==this.controlService.control.widget&&(this.controlService.show=!1),setTimeout((function(){t.gallery&&t.gallery.instance.indexChange(e)}))}},{key:"ngOnChanges",value:function(e){void 0!==e.position&&this.posChanged.emit(this.position),void 0!==e.galleryActive&&(null!=this.galleryActive||null!=this.galleryActive?this.createGallery():this.destroyGallery())}},{key:"ngAfterViewInit",value:function(){this.createHeader()}},{key:"ngOnDestroy",value:function(){this.destroyHeader(),this.destroyGallery()}},{key:"loadComponent",value:function(e,t){var n=this._componentFactoryResolver.resolveComponentFactory(t),i=e.createComponent(n);return i.changeDetectorRef.detectChanges(),i}},{key:"createHeader",value:function(){this.header||(this.header=this.loadComponent(this.viewerDataService.overlayChildren,y))}},{key:"destroyHeader",value:function(){this.header&&(this.header.destroy(),this.header=null)}},{key:"createGallery",value:function(){this.gallery||(this.gallery=this.loadComponent(this.viewerDataService.viewerChildren,T))}},{key:"destroyGallery",value:function(){this.gallery&&(this.gallery.destroy(),this.gallery=null)}}]),e}()).\u0275fac=function(e){return new(e||I)(f.Kb(S.a),f.Kb(g.a),f.Kb(p.a),f.Kb(Q.a),f.Kb(f.j))},I.\u0275cmp=f.Eb({type:I,selectors:[["wdg-menu-loppitte-actions"]],inputs:{position:"position",galleryActive:"galleryActive"},outputs:{posChanged:"posChanged"},features:[f.xb],decls:0,vars:0,template:function(e,t){},encapsulation:2}),I),G=i("OW6l");function H(e,t){if(1&e&&f.Lb(0,"img",12),2&e){var n=f.bc(2);f.hc("src",n.menu.logo,f.vc)}}function W(e,t){if(1&e&&(f.Qb(0,"p",13),f.Bc(1),f.Pb()),2&e){var n=f.bc(2);f.zc("border-color",n.text_color?n.text_color.color:""),f.hc("ngStyle",n.fontStyle(n.menu.contact_title_font)),f.zb(1),f.Dc(" ",n.i18n.t(n.menu.contact_title)," ")}}function D(e,t){if(1&e&&(f.Qb(0,"p",14),f.Bc(1),f.Pb()),2&e){var n=f.bc(2);f.zc("border-color",n.text_color?n.text_color.color:""),f.hc("ngStyle",n.fontStyle(n.menu.contact1_font)),f.zb(1),f.Dc(" ",n.i18n.t(n.menu.contact1)," ")}}function K(e,t){if(1&e&&(f.Qb(0,"div",8),f.Ac(1,H,1,1,"img",9),f.Ac(2,W,2,4,"p",10),f.Ac(3,D,2,4,"p",11),f.Pb()),2&e){var n=f.bc();f.zc("color",null!=n.text_color?n.text_color.color:null),f.zb(1),f.hc("ngIf",n.menu.logo),f.zb(1),f.hc("ngIf",n.i18n.t(n.menu.contact_title)),f.zb(1),f.hc("ngIf",n.i18n.t(n.menu.contact1))}}function F(e,t){if(1&e&&(f.Qb(0,"div",15),f.Lb(1,"sh-mapbox",16),f.Pb()),2&e){var n=f.bc();f.zb(1),f.hc("markers-count",n.panoramas?n.panoramas.length:"")("active",n.active.id)("marker-weight",12)("marker-color","rgb(0,153,255)")("marker-active-color","rgb(255,77,0)")("link-active",!0)("link-weight",2)("link-color","rgb(92,107,117)")("zoom",20)}}function X(e,t){if(1&e){var n=f.Rb();f.Ob(0),f.Lb(1,"hr"),f.Qb(2,"div",17),f.Xb("click",(function(){return f.sc(n),f.bc(),f.oc(8).closeGallery()})),f.Qb(3,"img",18),f.Xb("click",(function(){f.sc(n);var e=f.bc();return e.goToPano(e.menu.pano.pano,{theta:e.menu.pano.theta,phi:e.menu.pano.phi})})),f.Pb(),f.Pb(),f.Nb()}if(2&e){var i=f.bc();f.zb(3),f.hc("src",i.panoImg(i.menu.pano.pano),f.vc)}}function N(e,t){if(1&e){var n=f.Rb();f.Qb(0,"div",23),f.Qb(1,"div",24),f.Xb("click",(function(){f.sc(n);var e=t.index;return f.bc(2),f.oc(8).indexChange(2*e)})),f.Lb(2,"img",12),f.Qb(3,"div",25),f.Bc(4),f.Pb(),f.Pb(),f.Pb()}if(2&e){var i=t.$implicit,o=t.index,r=f.bc(2);f.zb(2),f.hc("src",r.resizeImg(i.img,"150x"),f.vc),f.zb(1),f.hc("ngStyle",r.galeryActiveIndex===2*o&&null!==r.galeryActiveIndex?r.getBgcStyles(r.active_color):null),f.zb(1),f.Cc(r.i18n.t(i.name))}}function R(e,t){if(1&e){var n=f.Rb();f.Qb(0,"div",23),f.Qb(1,"div",24),f.Xb("click",(function(){f.sc(n);var e=t.index;return f.bc(2),f.oc(8).indexChange(2*e+1)})),f.Lb(2,"img",12),f.Qb(3,"div",25),f.Bc(4),f.Pb(),f.Pb(),f.Pb()}if(2&e){var i=t.$implicit,o=t.index,r=f.bc(2);f.zb(2),f.hc("src",r.resizeImg(i.img,"150x"),f.vc),f.zb(1),f.hc("ngStyle",r.galeryActiveIndex===2*o+1&&null!==r.galeryActiveIndex?r.getBgcStyles(r.active_color):null),f.zb(1),f.Cc(r.i18n.t(i.name))}}function V(e,t){if(1&e&&(f.Ob(0),f.Lb(1,"hr"),f.Qb(2,"p",19),f.Bc(3,"Photo Gallery"),f.Pb(),f.Qb(4,"div",20),f.Qb(5,"div",21),f.Ac(6,N,5,3,"div",22),f.Pb(),f.Qb(7,"div",21),f.Ac(8,R,5,3,"div",22),f.Pb(),f.Pb(),f.Nb()),2&e){var n=f.bc();f.zb(2),f.zc("color",null!=n.text_color?n.text_color.color:null),f.zb(4),f.hc("ngForOf",n.evenGalleryArr),f.zb(2),f.hc("ngForOf",n.oddGalleryArr)}}function U(e,t){if(1&e&&(f.Qb(0,"div",26),f.Qb(1,"a",14),f.Bc(2),f.Pb(),f.Pb()),2&e){var n=f.bc();f.zc("color",null!=n.text_color?n.text_color.color:null),f.zb(1),f.zc("border-color",n.text_color?n.text_color.color:""),f.hc("ngStyle",n.fontStyle(n.menu.address1_font)),f.zb(1),f.Dc(" ",n.i18n.t(n.menu.address1)," ")}}var Y,J,Z=function(){return["F2","G2","K2"]},$=((Y=function(e){n(i,e);var t=o(i);function i(){var e;return c(this,i),(e=t.apply(this,arguments)).default_options={widget:"MenuLoppitteComponent",title:"",title_font:{family:"",size:"",italic:!1,bold:!1,underline:!1,color:"",align:"",line_height:""},logo:"",contact_title:"",contact_title_font:{family:"",size:"",italic:!1,bold:!1,underline:!1,color:"",align:"",line_height:""},contact1:"",contact1_font:{family:"",size:"",italic:!1,bold:!1,underline:!1,color:"",align:"",line_height:""},address1:"",address1_font:{family:"",size:"",italic:!1,bold:!1,underline:!1,color:"",align:"",line_height:""},pano:"",recursive:!1,area:"left",areas:["left","right"],background:{type:"native",color:"rgba(26, 26, 26, 1)"},active_color:{type:"native",color:"rgb(50,65,71)"},text_color:{color:"rgb(255,255,255)"},gallery_arr:[]},e}return s(i,[{key:"position",value:function(e){return"right"==e?9:1}},{key:"posChange",value:function(e){var t=this;null!=e&&setTimeout((function(){t.wdgOrder=t.position(e)}))}},{key:"oddGalleryArr",get:function(){return this.menu.gallery_arr.filter((function(e,t){return t%2==1}))}},{key:"evenGalleryArr",get:function(){return this.menu.gallery_arr.filter((function(e,t){return t%2==0}))}}]),i}(u.a)).\u0275fac=function(e){return q(e||Y)},Y.\u0275cmp=f.Eb({type:Y,selectors:[["wdg-menu-loppitte"]],hostVars:2,hostBindings:function(e,t){2&e&&f.zc("order",t.wdgOrder)},features:[f.wb],decls:9,vars:12,consts:[[1,"widget","menu","menu-loppitte"],[1,"wrap-left-menu","scrollbar",3,"ngStyle"],["class","desc-left-menu",3,"color",4,"ngIf"],["class","mapbox",4,"ngIf"],[4,"ngIf"],["class","footer",3,"color",4,"ngIf"],[3,"position","galleryActive","posChanged"],["actions",""],[1,"desc-left-menu"],["alt","",3,"src",4,"ngIf"],["class","title",3,"borderColor","ngStyle",4,"ngIf"],[3,"borderColor","ngStyle",4,"ngIf"],["alt","",3,"src"],[1,"title",3,"ngStyle"],[3,"ngStyle"],[1,"mapbox"],[3,"markers-count","active","marker-weight","marker-color","marker-active-color","link-active","link-weight","link-color","zoom"],[1,"active-item","item-photo",3,"click"],["alt","",3,"src","click"],[1,"title",2,"margin-bottom","5px"],[1,"gallery-wrapper"],[1,"column"],["class","item",4,"ngFor","ngForOf"],[1,"item"],[1,"item-photo",3,"click"],[1,"option",3,"ngStyle"],[1,"footer"]],template:function(e,t){1&e&&(f.Qb(0,"div",0),f.Qb(1,"div",1),f.Ac(2,K,4,5,"div",2),f.Ac(3,F,2,9,"div",3),f.Ac(4,X,4,1,"ng-container",4),f.Ac(5,V,9,4,"ng-container",4),f.Ac(6,U,3,6,"div",5),f.Pb(),f.Pb(),f.Qb(7,"wdg-menu-loppitte-actions",6,7),f.Xb("posChanged",(function(e){return t.posChange(e)})),f.Pb()),2&e&&(f.Cb("right","right"==t.menu.area),f.zb(1),f.hc("ngStyle",null!=t.background?t.getBgcStyles(t.background):null),f.zb(1),f.hc("ngIf",-1==f.jc(10,Z).indexOf(t.keyStarts)),f.zb(1),f.hc("ngIf",-1!=f.jc(11,Z).indexOf(t.keyStarts)),f.zb(1),f.hc("ngIf",t.menu.pano),f.zb(1),f.hc("ngIf",(null==t.menu.gallery_arr?null:t.menu.gallery_arr.length)>0),f.zb(1),f.hc("ngIf",t.i18n.t(t.menu.address1)),f.zb(1),f.hc("position",t.menu.area)("galleryActive",t.galeryActiveIndex))},directives:[r.l,r.k,B,G.a,r.j],styles:["[_nghost-%COMP%]{display:flex;height:calc(100% - 46px);order:1;z-index:10}.menu[_ngcontent-%COMP%]{width:300px;max-width:100%;height:100%;position:relative;z-index:3}.menu[_ngcontent-%COMP%]   .mapbox[_ngcontent-%COMP%]{height:200px}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]{position:absolute;width:calc(100% - 30px);height:calc(100% - 30px);background-color:#1a1a1a;padding:15px;font-size:14px;color:#ccc}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   .desc-left-menu[_ngcontent-%COMP%]{white-space:pre-line}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{width:calc(50% - 7.5px);box-sizing:border-box}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin-bottom:15px}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   .gallery-wrapper[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2n){margin:0 0 15px}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ccc}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin-top:10px;margin-bottom:10px}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-color:#ccc;margin:15px 0}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{margin-top:15px}.menu[_ngcontent-%COMP%]   .item-photo[_ngcontent-%COMP%]{position:relative;line-height:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.menu[_ngcontent-%COMP%]   .item-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;position:relative;z-index:1}.menu[_ngcontent-%COMP%]   .item-photo[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{position:absolute;width:calc(100% - 10px);max-height:100%;overflow:hidden;bottom:0;left:0;padding:2px 5px;color:#fff;font-size:14px;text-align:right;background-color:rgba(0,0,0,.7);z-index:2}.menu[_ngcontent-%COMP%]   .wrap-gallery[_ngcontent-%COMP%]{display:inline-block;width:100%;margin:0 -5px}@media (max-width:1024px){[_nghost-%COMP%]{width:.1px}.menu[_ngcontent-%COMP%], .menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]{transition:all .5s ease-in}.menu[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]{margin-left:-300px}.menu.right[_ngcontent-%COMP%]{margin-left:300px;margin-right:-300px}.menu.on[_ngcontent-%COMP%]{width:300px}.menu.on[_ngcontent-%COMP%]   .wrap-left-menu[_ngcontent-%COMP%]{margin-left:0}.menu.on.right[_ngcontent-%COMP%]{margin-left:0;margin-right:0}wdg-menu-loppitte-position[_ngcontent-%COMP%]{width:.1px;height:0}}  #overlay.mobile wdg-menu-loppitte,   #overlay.table wdg-menu-loppitte{width:.1px}  #overlay.mobile wdg-menu-loppitte .menu,   #overlay.table wdg-menu-loppitte .menu{position:absolute;transform:translateX(-100%);transition:all .5s ease-in}  #overlay.mobile wdg-menu-loppitte .menu .wrap-left-menu,   #overlay.table wdg-menu-loppitte .menu .wrap-left-menu{margin-left:-300px;transition:all .5s ease-in}  #overlay.mobile wdg-menu-loppitte .menu.right,   #overlay.table wdg-menu-loppitte .menu.right{margin-left:300px;margin-right:-300px}  #overlay.mobile wdg-menu-loppitte .menu.on,   #overlay.table wdg-menu-loppitte .menu.on{transform:translateX(0)}  #overlay.mobile wdg-menu-loppitte .menu.on .wrap-left-menu,   #overlay.table wdg-menu-loppitte .menu.on .wrap-left-menu{margin-left:0}  #overlay.mobile wdg-menu-loppitte .menu.on.right,   #overlay.table wdg-menu-loppitte .menu.on.right{margin-left:0;margin-right:0}  #overlay.mobile wdg-menu-loppitte wdg-menu-loppitte-position,   #overlay.table wdg-menu-loppitte wdg-menu-loppitte-position{width:.1px;height:0}"]}),Y),q=f.Sb($),ee=((J=function(){function e(t){c(this,e),this.componentFactoryResolver=t}return s(e,[{key:"resolveComponent",value:function(){return this.componentFactoryResolver.resolveComponentFactory($)}}]),e}()).\u0275mod=f.Ib({type:J}),J.\u0275inj=f.Hb({factory:function(e){return new(e||J)(f.Ub(f.j))},imports:[[r.c,a.a,l.c]]}),J)},KRZI:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("FU6l");function o(e){return!Object(i.a)(e)&&e-parseFloat(e)+1>=0}},KTx3:function(t,n,i){"use strict";i.d(n,"a",(function(){return a}));var o=i("IdLP"),r=i("FU6l"),l=i("IJgj"),c=i("YtkY");function a(t,n,i,s){return Object(l.a)(i)&&(s=i,i=void 0),s?a(t,n,i).pipe(Object(c.a)((function(t){return Object(r.a)(t)?s.apply(void 0,e(t)):s(t)}))):new o.a((function(e){!function e(t,n,i,o,r){var l;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var c=t;t.addEventListener(n,i,r),l=function(){return c.removeEventListener(n,i,r)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var a=t;t.on(n,i),l=function(){return a.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var s=t;t.addListener(n,i),l=function(){return s.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,f=t.length;u<f;u++)e(t[u],n,i,o,r)}o.add(l)}(t,n,(function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),e,i)}))}},Ohay:function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var r=i("5uGe");function l(e,t){return function(n){return n.lift(new a(e,t))}}var a=function(){function e(t,n){c(this,e),this.compare=t,this.keySelector=n}return s(e,[{key:"call",value:function(e,t){return t.subscribe(new u(e,this.compare,this.keySelector))}}]),e}(),u=function(e){n(i,e);var t=o(i);function i(e,n,o){var r;return c(this,i),(r=t.call(this,e)).keySelector=o,r.hasKey=!1,"function"==typeof n&&(r.compare=n),r}return s(i,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(o){return this.destination.error(o)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),i}(r.a)},kuMc:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i("pBDD"),l=i("mW0F");function a(e){return function(t){return t.lift(new u(e))}}var u=function(){function e(t){c(this,e),this.notifier=t}return s(e,[{key:"call",value:function(e,t){var n=new f(e),i=Object(l.a)(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),f=function(e){n(i,e);var t=o(i);function i(e){var n;return c(this,i),(n=t.call(this,e)).seenValue=!1,n}return s(i,[{key:"notifyNext",value:function(e,t,n,i,o){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),i}(r.a)}}])}();