!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{PnCI:function(e,i,r){"use strict";r.r(i),r.d(i,"OtherTitleModule",(function(){return O}));var n=r("An66"),a=r("kZht"),l=r("uGor"),s=r("C4W8"),c=r("cJtj"),h=r("s7kB"),d=r("ENSU"),b=r("2OYx");function g(t,e){if(1&t&&(a.Qb(0,"a",3),a.Bc(1),a.Pb()),2&t){var o=a.bc(2);a.hc("href",o.i18n.t(o.title.href),a.vc),a.zb(1),a.Cc(o.i18n.t(o.title.name))}}var u=function(t,e){return[t,e]};function p(t,e){if(1&t&&(a.Qb(0,"div",1),a.Ac(1,g,2,2,"a",2),a.Bc(2),a.Pb()),2&t){var o=a.bc();a.zc("width",""!=o.widthObj.value?o.widthObj.value+"%":"auto")("padding-left",o.borderObj.value,"px")("padding-right",o.borderObj.value,"px")("margin",o.marginObj.value,"px")("max-width","calc(100% - "+(2*o.marginObj.value+2*o.borderObj.value)+"px)")("border-top-left-radius",o.borderRadiusObj.value.topLeft,"px")("border-top-right-radius",o.borderRadiusObj.value.topRight,"px")("border-bottom-left-radius",o.borderRadiusObj.value.bottomLeft,"px")("border-bottom-right-radius",o.borderRadiusObj.value.bottomRight,"px")("color",o.colorsObj.value.common_color?o.commonColor.text_color.color:o.colorsObj.value.text_color.color)("transform",o.editorMode?o.transform:o.transformStatic)("background",o.editorMode?o.bgcStyle(o.colorsObj.value.common_color?o.commonColor.background:o.colorsObj.value.background):o.backgroundStatic),a.hc("ngClass",a.lc(28,u,o.areaObj.value,o.shadowObj.value))("ngStyle",o.fontStyle),a.zb(1),a.hc("ngIf",o.title.href&&o.i18n.t(o.title.href)),a.zb(1),a.Dc(" ",o.title.href&&o.i18n.t(o.title.href)?"":o.i18n.t(o.title.name),"\n")}}var f,v,m=((v=function(){function e(o,i,r,n,a,l){t(this,e),this.otherService=o,this.viewerService=i,this.fontsService=r,this.panoService=n,this.sanitizer=a,this.i18n=l,this.default_options={widget:"OtherTitleComponent",options:[{key:"show",label:"Show",type:"toggle",value:!0},{key:"list",label:"Pano list",type:"liste",recursive:!1,icons:!1,links:!1,uniq:!0,pano_url:!0,drone:!0,font:{family:"",size:"30",italic:!1,bold:!1,underline:!1,color:"",align:"",line_height:""},value:[]},{key:"width",label:"Width",type:"slider",clear:!0,help:"%",value:""},{key:"margin",label:"Margin",type:"slider",help:"px",value:10},{key:"border",label:"Border",type:"slider",help:"px",value:15},{key:"border-radius",label:"Border radius",type:"border-radius",help:"px",value:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0}},{key:"shadow",label:"Shadow",type:"shadow",value:""},{key:"area",label:"Area",areas:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"],type:"area",value:"top-left"},{key:"colors",type:"color-bundle",value:{common_color:!1,background:{type:"native",color:"rgb(255,255,255)"},text_color:{color:"rgb(92,107,117)"}}},{key:"tooltip_show",label:"Arrow text",type:"toggle",value:!0},{key:"tooltip_background",label:"Arrow text background",type:"color",value:{color:"rgba(0,0,0,0.5)"}},{key:"tooltip_color",label:"Arrow text color",type:"color",value:{color:"rgb(255,255,255)"}}]}}return o(e,[{key:"initData",value:function(){this.data||this.otherService.addWidget(this.default_options),this.widgetName=this.default_options.widget,this.widget=this.otherService.getWidget(this.widgetName),this.showObj=this.otherService.getWidgetOption(this.widgetName,"show"),this.listObj=this.otherService.getWidgetOption(this.widgetName,"list"),this.widthObj=this.otherService.getWidgetOption(this.widgetName,"width"),this.areaObj=this.otherService.getWidgetOption(this.widgetName,"area"),this.colorsObj=this.otherService.getWidgetOption(this.widgetName,"colors"),this.marginObj=this.otherService.getWidgetOption(this.widgetName,"margin"),this.borderObj=this.otherService.getWidgetOption(this.widgetName,"border"),this.borderRadiusObj=this.otherService.getWidgetOption(this.widgetName,"border-radius"),this.shadowObj=this.otherService.getWidgetOption(this.widgetName,"shadow"),this.listObj.font.family&&this.fontsService.loadFonts([this.listObj.font.family]),this.editorMode=this.viewerService.editor,this.commonColor=this.panoService.commonColor,this.transformStatic=this.transform,this.backgroundStatic=this.bgcStyle(this.colorsObj.value.common_color?this.commonColor.background:this.colorsObj.value.background),this.widgetInit=!0}},{key:"fontStyleWitoutColor",value:function(t){var e=this.fontsService.fontStyle(t);return delete e.color,e}},{key:"bgcStyle",value:function(t){return t?this.sanitizer.bypassSecurityTrustStyle("gradient"==t.type?"radial"!=t.align?"-webkit-linear-gradient("+t.align+", "+t.color+" 0%,"+t.color2+" 100%)":"radial-gradient(at center center, "+t.color+" 0%,"+t.color2+" 100%)":t.color):null}},{key:"ngOnInit",value:function(){this.initData()}},{key:"ngOnDestroy",value:function(){this.widgetInit=!1}},{key:"transform",get:function(){return this.sanitizer.bypassSecurityTrustStyle(-1!=["top","bottom","left","right"].indexOf(this.areaObj.value)?-1!=["top","bottom"].indexOf(this.areaObj.value)?"translateX(calc(-50% - "+this.marginObj.value+"px))":"translateY(calc(-50% - "+this.marginObj.value+"px))":"initial")}},{key:"fontStyle",get:function(){return this.fontStyleWitoutColor(this.listObj.font)}},{key:"title",get:function(){var t=this;return this.listObj.value.filter((function(e){return e.pano.id===t.viewerService.active.id})).pop()}}]),e}()).\u0275fac=function(t){return new(t||v)(a.Kb(l.a),a.Kb(s.a),a.Kb(c.a),a.Kb(h.a),a.Kb(d.b),a.Kb(b.a))},v.\u0275cmp=a.Eb({type:v,selectors:[["wdg-other-title"]],inputs:{data:"data"},decls:1,vars:1,consts:[["class","title",3,"width","paddingLeft","paddingRight","margin","max-width","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","color","transform","background","ngClass","ngStyle",4,"ngIf"],[1,"title",3,"ngClass","ngStyle"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"]],template:function(t,e){1&t&&a.Ac(0,p,3,31,"div",0),2&t&&a.hc("ngIf",e.widgetInit&&e.title&&e.showObj.value)},directives:[n.k,n.i,n.l],styles:[".title[_ngcontent-%COMP%]{position:absolute;z-index:2;background-color:#fff;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.title.top[_ngcontent-%COMP%]{top:0}.title.bottom[_ngcontent-%COMP%], .title.top[_ngcontent-%COMP%]{left:50%;transform:translateX(-50%)}.title.bottom[_ngcontent-%COMP%]{bottom:0}.title.left[_ngcontent-%COMP%]{left:0}.title.left[_ngcontent-%COMP%], .title.right[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%)}.title.right[_ngcontent-%COMP%]{right:0}.title.top-left[_ngcontent-%COMP%]{top:0;left:0}.title.top-right[_ngcontent-%COMP%]{top:0;right:0}.title.bottom-left[_ngcontent-%COMP%]{bottom:0;left:0}.title.bottom-right[_ngcontent-%COMP%]{right:0;bottom:0}@media screen and (max-width:600px){.title[_ngcontent-%COMP%]{width:100%!important}}  #overlay.mobile wdg-other-title .title{width:100%!important}"]}),v),O=((f=function(){function e(o){t(this,e),this.componentFactoryResolver=o}return o(e,[{key:"resolveComponent",value:function(){return this.componentFactoryResolver.resolveComponentFactory(m)}}]),e}()).\u0275mod=a.Ib({type:f}),f.\u0275inj=a.Hb({factory:function(t){return new(t||f)(a.Ub(a.j))},imports:[[n.c]]}),f)}}])}();